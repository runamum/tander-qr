<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Автообновляемый QR-код</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: auto; }
    label { display: block; margin-bottom: 10px; }
    #qrcode { margin-top: 20px; }
  </style>
</head>
<body>

<h1>Автообновляемый QR-код</h1>

<label>
  ID: <input type="number" id="inputId" value="25491144" />
</label>
<label>
  Должность (число): <input type="number" id="inputPosition" value="3" />
</label>

<div id="qrcode"></div>

<script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>
<script>
  const inputId = document.getElementById('inputId');
  const inputPosition = document.getElementById('inputPosition');
  const qrcodeContainer = document.getElementById('qrcode');

  let qrcode = new QRCode(qrcodeContainer, {
    width: 200,
    height: 200,
  });

  function generateQR() {
    const id = Number(inputId.value);
    const position = Number(inputPosition.value);
    const time = Math.floor(Date.now() / 1000);

    const data = { id, time, position };
    const jsonStr = JSON.stringify(data);
    const base64 = btoa(jsonStr);

    // Очищаем предыдущий QR
    qrcodeContainer.innerHTML = "";
    qrcode = new QRCode(qrcodeContainer, {
      width: 200,
